Name:Shrouded Rooftops
ManaCost:no cost
Types:Land

R:Event$ Moved | ValidCard$ Card.Self | Destination$ Battlefield | ReplacementResult$ Updated | ReplaceWith$ ETBTapped | Description$ CARDNAME enters tapped.
SVar:ETBTapped:DB$ Tap | Defined$ Self | ETB$ True

A:AB$ Mana | Cost$ T | Produced$ Combo W B | SpellDescription$ Add {W} or {B}.

A:AB$ Animate | Cost$ 1 W B | Defined$ Self | Power$ 3 | Toughness$ 3 | Types$ Creature,Illusion | Colors$ White,Black | OverwriteColors$ True | Keywords$ Lifelink | Triggers$ TrigAttack,TrigBlock | SpellDescription$ Until end of turn, CARDNAME becomes a 3/3 white and black Illusion creature with lifelink and "Whenever this creature attacks or blocks, torment yourself." It's still a land.
SVar:TrigAttack:Mode$ Attacks | ValidCard$ Card.Self | Execute$ DBTorment | TriggerDescription$ Whenever CARDNAME attacks or blocks, torment yourself.
SVar:TrigBlock:Mode$ Blocks | ValidCard$ Card.Self | Execute$ DBTorment | Secondary$ True | TriggerDescription$ Whenever CARDNAME attacks or blocks, torment yourself.
SVar:DBTorment:DB$ GenericChoice | Defined$ You | AILogic$ PayUnlessCost | Choices$ DBPaySac,DBPayDiscard | FallbackAbility$ DBLoseLifeFallback | SpellDescription$ Lose 3 life unless you discard a card or sacrifice a nonland permanent.
SVar:DBPaySac:DB$ LoseLife | LifeAmount$ 3 | Defined$ You | UnlessCost$ Sac<1/Permanent.nonland/nonland permanent> | UnlessPayer$ You | SpellDescription$ Lose 3 life unless you sacrifice a nonland permanent.
SVar:DBPayDiscard:DB$ LoseLife | LifeAmount$ 3 | Defined$ You | UnlessCost$ Discard<1/Card.Other/card> | UnlessPayer$ You | SpellDescription$ Lose 3 life unless you discard a card.
SVar:DBLoseLifeFallback:DB$ LoseLife | Defined$ You | LifeAmount$ 3

Oracle:Shrouded Rooftops enters tapped.\n{T}: Add {W} or {B}.\n{1}{W}{B}: Until end of turn, Shrouded Rooftops becomes a 3/3 white and black Illusion creature with with lifelink and “Whenever this creature attacks or blocks, torment yourself.” It's still a land. (To torment yourself, lose 3 life unless you discard a card or sacrifice a nonland permanent.)

SVar:HasAttackEffect:TRUE
SVar:HasBlockEffect:TRUE